var jsmigemo=function(e){"use strict";class t{constructor(e){null==e?(this.words=new Uint32Array(8),this.size=0):(this.words=new Uint32Array(e+31>>5),this.size=e)}add(e){if(this.words.length<this.size+1+31>>5){const e=new Uint32Array(2*this.words.length);e.set(this.words,0),this.words=e}this.set(this.size,e),this.size++}set(e,t){if(this.size<e)throw new Error;t?this.words[e>>5]|=1<<(31&e):this.words[e>>5]&=~(1<<(31&e))}get(e){if(this.size<e)throw new Error;return 1==(this.words[e>>5]>>(31&e)&1)}}function n(e,t,n,s){let r=t,i=n-1;for(;r<=i;){const t=r+i>>>1,n=e[t];if(n<s)r=t+1;else{if(!(n>s))return t;i=t-1}}return-(r+1)}function s(e,t,n,s){let r=t,i=n-1;for(;r<=i;){const t=r+i>>>1,n=e[t];if(n<s)r=t+1;else{if(!(n>s))return t;i=t-1}}return-(r+1)}function r(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,e+=e>>>8,63&(e+=e>>>16)}function i(e){let t,n;if(0==e)return 64;let s=63;return n=e,0!=n?(s-=32,t=n):t=e>>>32,n=t<<16,0!=n&&(s-=16,t=n),n=t<<8,0!=n&&(s-=8,t=n),n=t<<4,0!=n&&(s-=4,t=n),n=t<<2,0!=n&&(s-=2,t=n),s-(t<<1>>>31)}class o{constructor(e,t){const n=2*(t+63>>6);if(n!=e.length)throw new Error(`expected: ${n} actual: ${e.length}`);this.words=e,this.sizeInBits=t,this.lb=new Uint32Array(t+511>>>9),this.sb=new Uint16Array(8*this.lb.length);let s=0,i=0;for(let e=0;e<this.sb.length;e++){const t=e<this.words.length>>>1?r(this.words[2*e])+r(this.words[2*e+1]):0;this.sb[e]=i,i+=t,7==(7&e)&&(this.lb[e>>>3]=s,s+=i,i=0)}}rank(e,t){if(e<0&&this.sizeInBits<=e)throw new RangeError;let n=this.sb[e>>>6]+this.lb[e>>>9];(63&e)>=32&&(n+=r(this.words[e>>>5&4294967294]));const s=2147483647>>>31-(31&e);return n+=r(this.words[e>>>5]&s),t?n:e-n}select(e,t){const n=this.lowerBoundBinarySearchLB(e,t)-1;if(-1==n)return 0;const s=e-(t?this.lb[n]:512*n-this.lb[n]),i=this.lowerBoundBinarySearchSB(s,8*n,8*n+8,t)-1;let o=s-(t?this.sb[i]:i%8*64-this.sb[i]),w=this.words[2*i],h=this.words[2*i+1];t||(w=~w,h=~h);const a=r(w);let l=0;for(o>a&&(w=h,o-=a,l=32);o>0;)o-=1&w,w>>>=1,l++;return 64*i+(l-1)}lowerBoundBinarySearchLB(e,t){let n=this.lb.length,s=-1;if(t)for(;n-s>1;){let t=n+s>>>1;this.lb[t]<e?s=t:n=t}else for(;n-s>1;){let t=n+s>>>1;512*t-this.lb[t]<e?s=t:n=t}return n}lowerBoundBinarySearchSB(e,t,n,s){let r=n,i=t-1;if(s)for(;r-i>1;){const t=r+i>>>1;this.sb[t]<e?i=t:r=t}else for(;r-i>1;){const t=r+i>>>1;64*(7&t)-this.sb[t]<e?i=t:r=t}return r}nextClearBit(e){let t=e>>5,n=~this.words[t]&4294967295<<e;for(;;){if(0!=n)return 32*t+i(n);if(++t==this.words.length)return-1;n=~this.words[t]}}size(){return this.sizeInBits}get(e){if(e<0&&this.sizeInBits<=e)throw new RangeError;return 1==(this.words[e>>>5]>>>(31&e)&1)}toString(){let e="";for(let t=0;t<this.sizeInBits;t++){e+=1==(this.words[t>>>6]>>>(63&t)&1)?"1":"0",63==(63&t)&&(e+=" ")}return e}}const w=new Map;w.set("!","！"),w.set('"',"”"),w.set("#","＃"),w.set("$","＄"),w.set("%","％"),w.set("&","＆"),w.set("'","’"),w.set("(","（"),w.set(")","）"),w.set("*","＊"),w.set("+","＋"),w.set(",","，"),w.set("-","－"),w.set(".","．"),w.set("/","／"),w.set("0","０"),w.set("1","１"),w.set("2","２"),w.set("3","３"),w.set("4","４"),w.set("5","５"),w.set("6","６"),w.set("7","７"),w.set("8","８"),w.set("9","９"),w.set(":","："),w.set(";","；"),w.set("<","＜"),w.set("=","＝"),w.set(">","＞"),w.set("?","？"),w.set("@","＠"),w.set("A","Ａ"),w.set("B","Ｂ"),w.set("C","Ｃ"),w.set("D","Ｄ"),w.set("E","Ｅ"),w.set("F","Ｆ"),w.set("G","Ｇ"),w.set("H","Ｈ"),w.set("I","Ｉ"),w.set("J","Ｊ"),w.set("K","Ｋ"),w.set("L","Ｌ"),w.set("M","Ｍ"),w.set("N","Ｎ"),w.set("O","Ｏ"),w.set("P","Ｐ"),w.set("Q","Ｑ"),w.set("R","Ｒ"),w.set("S","Ｓ"),w.set("T","Ｔ"),w.set("U","Ｕ"),w.set("V","Ｖ"),w.set("W","Ｗ"),w.set("X","Ｘ"),w.set("Y","Ｙ"),w.set("Z","Ｚ"),w.set("[","［"),w.set("\\","￥"),w.set("]","］"),w.set("^","＾"),w.set("_","＿"),w.set("`","‘"),w.set("a","ａ"),w.set("b","ｂ"),w.set("c","ｃ"),w.set("d","ｄ"),w.set("e","ｅ"),w.set("f","ｆ"),w.set("g","ｇ"),w.set("h","ｈ"),w.set("i","ｉ"),w.set("j","ｊ"),w.set("k","ｋ"),w.set("l","ｌ"),w.set("m","ｍ"),w.set("n","ｎ"),w.set("o","ｏ"),w.set("p","ｐ"),w.set("q","ｑ"),w.set("r","ｒ"),w.set("s","ｓ"),w.set("t","ｔ"),w.set("u","ｕ"),w.set("v","ｖ"),w.set("w","ｗ"),w.set("x","ｘ"),w.set("y","ｙ"),w.set("z","ｚ"),w.set("{","｛"),w.set("|","｜"),w.set("}","｝"),w.set("~","～"),w.set("｡","。"),w.set("｢","「"),w.set("｣","」"),w.set("､","、"),w.set("･","・"),w.set("ｦ","ヲ"),w.set("ｧ","ァ"),w.set("ｨ","ィ"),w.set("ｩ","ゥ"),w.set("ｪ","ェ"),w.set("ｫ","ォ"),w.set("ｬ","ャ"),w.set("ｭ","ュ"),w.set("ｮ","ョ"),w.set("ｯ","ッ"),w.set("ｰ","ー"),w.set("ｱ","ア"),w.set("ｲ","イ"),w.set("ｳ","ウ"),w.set("ｴ","エ"),w.set("ｵ","オ"),w.set("ｶ","カ"),w.set("ｷ","キ"),w.set("ｸ","ク"),w.set("ｹ","ケ"),w.set("ｺ","コ"),w.set("ｻ","サ"),w.set("ｼ","シ"),w.set("ｽ","ス"),w.set("ｾ","セ"),w.set("ｿ","ソ"),w.set("ﾀ","タ"),w.set("ﾁ","チ"),w.set("ﾂ","ツ"),w.set("ﾃ","テ"),w.set("ﾄ","ト"),w.set("ﾅ","ナ"),w.set("ﾆ","ニ"),w.set("ﾇ","ヌ"),w.set("ﾈ","ネ"),w.set("ﾉ","ノ"),w.set("ﾊ","ハ"),w.set("ﾋ","ヒ"),w.set("ﾌ","フ"),w.set("ﾍ","ヘ"),w.set("ﾎ","ホ"),w.set("ﾏ","マ"),w.set("ﾐ","ミ"),w.set("ﾑ","ム"),w.set("ﾒ","メ"),w.set("ﾓ","モ"),w.set("ﾔ","ヤ"),w.set("ﾕ","ユ"),w.set("ﾖ","ヨ"),w.set("ﾗ","ラ"),w.set("ﾘ","リ"),w.set("ﾙ","ル"),w.set("ﾚ","レ"),w.set("ﾛ","ロ"),w.set("ﾜ","ワ"),w.set("ﾝ","ン"),w.set("ﾞ","゛"),w.set("ﾟ","゜");const h=new Map;function a(e){let t="";for(let n of e){let e=w.get(n);t+=null==e?n:e}return t}function l(e){let t="";for(let n of e){let e=h.get(n);t+=null==e?n:e}return t}function c(e){let t="";for(let n=0;n<e.length;n++){const s=e.charCodeAt(n);"ぁ".charCodeAt(0)<=s&&s<="ん".charCodeAt(0)?t+=String.fromCharCode(s-"ぁ".charCodeAt(0)+"ァ".charCodeAt(0)):t+=String.fromCharCode(s)}return t}h.set("！","!"),h.set("”",'"'),h.set("＃","#"),h.set("＄","$"),h.set("％","%"),h.set("＆","&"),h.set("’","'"),h.set("（","("),h.set("）",")"),h.set("＊","*"),h.set("＋","+"),h.set("，",","),h.set("－","-"),h.set("．","."),h.set("／","/"),h.set("０","0"),h.set("１","1"),h.set("２","2"),h.set("３","3"),h.set("４","4"),h.set("５","5"),h.set("６","6"),h.set("７","7"),h.set("８","8"),h.set("９","9"),h.set("：",":"),h.set("；",";"),h.set("＜","<"),h.set("＝","="),h.set("＞",">"),h.set("？","?"),h.set("＠","@"),h.set("Ａ","A"),h.set("Ｂ","B"),h.set("Ｃ","C"),h.set("Ｄ","D"),h.set("Ｅ","E"),h.set("Ｆ","F"),h.set("Ｇ","G"),h.set("Ｈ","H"),h.set("Ｉ","I"),h.set("Ｊ","J"),h.set("Ｋ","K"),h.set("Ｌ","L"),h.set("Ｍ","M"),h.set("Ｎ","N"),h.set("Ｏ","O"),h.set("Ｐ","P"),h.set("Ｑ","Q"),h.set("Ｒ","R"),h.set("Ｓ","S"),h.set("Ｔ","T"),h.set("Ｕ","U"),h.set("Ｖ","V"),h.set("Ｗ","W"),h.set("Ｘ","X"),h.set("Ｙ","Y"),h.set("Ｚ","Z"),h.set("［","["),h.set("￥","\\"),h.set("］","]"),h.set("＾","^"),h.set("＿","_"),h.set("‘","`"),h.set("ａ","a"),h.set("ｂ","b"),h.set("ｃ","c"),h.set("ｄ","d"),h.set("ｅ","e"),h.set("ｆ","f"),h.set("ｇ","g"),h.set("ｈ","h"),h.set("ｉ","i"),h.set("ｊ","j"),h.set("ｋ","k"),h.set("ｌ","l"),h.set("ｍ","m"),h.set("ｎ","n"),h.set("ｏ","o"),h.set("ｐ","p"),h.set("ｑ","q"),h.set("ｒ","r"),h.set("ｓ","s"),h.set("ｔ","t"),h.set("ｕ","u"),h.set("ｖ","v"),h.set("ｗ","w"),h.set("ｘ","x"),h.set("ｙ","y"),h.set("ｚ","z"),h.set("｛","{"),h.set("｜","|"),h.set("｝","}"),h.set("～","~"),h.set("。","｡"),h.set("「","｢"),h.set("」","｣"),h.set("、","､"),h.set("・","･"),h.set("ヲ","ｦ"),h.set("ァ","ｧ"),h.set("ィ","ｨ"),h.set("ゥ","ｩ"),h.set("ェ","ｪ"),h.set("ォ","ｫ"),h.set("ャ","ｬ"),h.set("ュ","ｭ"),h.set("ョ","ｮ"),h.set("ッ","ｯ"),h.set("ー","ｰ"),h.set("ア","ｱ"),h.set("イ","ｲ"),h.set("ウ","ｳ"),h.set("エ","ｴ"),h.set("オ","ｵ"),h.set("カ","ｶ"),h.set("キ","ｷ"),h.set("ク","ｸ"),h.set("ケ","ｹ"),h.set("コ","ｺ"),h.set("サ","ｻ"),h.set("シ","ｼ"),h.set("ス","ｽ"),h.set("セ","ｾ"),h.set("ソ","ｿ"),h.set("タ","ﾀ"),h.set("チ","ﾁ"),h.set("ツ","ﾂ"),h.set("テ","ﾃ"),h.set("ト","ﾄ"),h.set("ナ","ﾅ"),h.set("ニ","ﾆ"),h.set("ヌ","ﾇ"),h.set("ネ","ﾈ"),h.set("ノ","ﾉ"),h.set("ハ","ﾊ"),h.set("ヒ","ﾋ"),h.set("フ","ﾌ"),h.set("ヘ","ﾍ"),h.set("ホ","ﾎ"),h.set("マ","ﾏ"),h.set("ミ","ﾐ"),h.set("ム","ﾑ"),h.set("メ","ﾒ"),h.set("モ","ﾓ"),h.set("ヤ","ﾔ"),h.set("ユ","ﾕ"),h.set("ヨ","ﾖ"),h.set("ラ","ﾗ"),h.set("リ","ﾘ"),h.set("ル","ﾙ"),h.set("レ","ﾚ"),h.set("ロ","ﾛ"),h.set("ワ","ﾜ"),h.set("ン","ﾝ"),h.set("゛","ﾞ"),h.set("゜","ﾟ"),h.set("ヴ","ｳﾞ"),h.set("ガ","ｶﾞ"),h.set("ギ","ｷﾞ"),h.set("グ","ｸﾞ"),h.set("ゲ","ｹﾞ"),h.set("ゴ","ｺﾞ"),h.set("ザ","ｻﾞ"),h.set("ジ","ｼﾞ"),h.set("ズ","ｽﾞ"),h.set("ゼ","ｾﾞ"),h.set("ゾ","ｿﾞ"),h.set("ダ","ﾀﾞ"),h.set("ヂ","ﾁﾞ"),h.set("ヅ","ﾂﾞ"),h.set("デ","ﾃﾞ"),h.set("ド","ﾄﾞ"),h.set("バ","ﾊﾞ"),h.set("ビ","ﾋﾞ"),h.set("ブ","ﾌﾞ"),h.set("ベ","ﾍﾞ"),h.set("ボ","ﾎﾞ"),h.set("パ","ﾊﾟ"),h.set("ピ","ﾋﾟ"),h.set("プ","ﾌﾟ"),h.set("ペ","ﾍﾟ"),h.set("ポ","ﾎﾟ");class u{constructor(e,t){this.bitVector=e,this.edges=t}reverseLookup(e){if(e<=0||this.edges.length<=e)throw new RangeError;const t=new Array;for(;e>1;)t.push(this.edges[e]),e=this.parent(e);return String.fromCharCode(...t.reverse())}parent(e){return this.bitVector.rank(this.bitVector.select(e,!0),!1)}firstChild(e){const t=this.bitVector.select(e,!1)+1;return this.bitVector.get(t)?this.bitVector.rank(t,!0)+1:-1}traverse(e,t){const n=this.firstChild(e);if(-1==n)return-1;const r=this.bitVector.select(n,!0),i=this.bitVector.nextClearBit(r)-r,o=s(this.edges,n,n+i,t);return o>=0?o:-1}lookup(e){let t=1;for(let n=0;n<e.length;n++){const s=e.charCodeAt(n);if(t=this.traverse(t,s),-1==t)break}return t>=0?t:-1}*predictiveSearch(e){let t=e,n=e+1;for(;n-t>0;){for(let e=t;e<n;e++)yield e;t=this.bitVector.rank(this.bitVector.select(t,!1)+1,!0)+1,n=this.bitVector.rank(this.bitVector.select(n,!1)+1,!0)+1}}size(){return this.edges.length-2}}class d{constructor(e){const t=new DataView(e);let n=0;[this.keyTrie,n]=d.readTrie(t,n,!0),[this.valueTrie,n]=d.readTrie(t,n,!1);const s=t.getUint32(n);n+=4;const r=new Uint32Array(2*(s+63>>6));for(let e=0;e<r.length>>1;e++)r[2*e+1]=t.getUint32(n),n+=4,r[2*e]=t.getUint32(n),n+=4;this.mappingBitVector=new o(r,s);const i=t.getUint32(n);n+=4,this.mapping=new Int32Array(i);for(let e=0;e<i;e++)this.mapping[e]=t.getInt32(n),n+=4;if(n!=e.byteLength)throw new Error;this.hasMappingBitList=d.createHasMappingBitList(this.mappingBitVector)}static readTrie(e,t,n){const s=e.getInt32(t);t+=4;const r=new Uint16Array(s);for(let i=0;i<s;i++){let s;n?(s=this.decode(e.getUint8(t)),t+=1):(s=e.getUint16(t),t+=2),r[i]=s}const i=e.getUint32(t);t+=4;const w=new Uint32Array(2*(i+63>>6));for(let n=0;n<w.length>>>1;n++)w[2*n+1]=e.getUint32(t),t+=4,w[2*n]=e.getUint32(t),t+=4;return[new u(new o(w,i),r),t]}static decode(e){if(32<=e&&e<=126)return e;if(161<=e&&e<=246)return e+12352-160;throw new RangeError}static encode(e){if(32<=e&&e<=126)return e;if(12353<=e&&e<=12438)return e-12352+160;if(12540==e)return e-12352+160;throw new RangeError}static createHasMappingBitList(e){const n=e.rank(e.size()+1,!1),s=new t(n);let r=0;for(let t=1;t<n;t++){let n=e.get(r+1);s.set(t,n),r=e.nextClearBit(r+1)}return s}*search(e){const t=this.keyTrie.lookup(e);if(-1!=t&&this.hasMappingBitList.get(t)){const e=this.mappingBitVector.select(t,!1),n=this.mappingBitVector.nextClearBit(e+1)-e-1;if(n>0){const t=this.mappingBitVector.rank(e,!1);for(let s=0;s<n;s++)yield this.valueTrie.reverseLookup(this.mapping[e-t+s])}}}*predictiveSearch(e){const t=this.keyTrie.lookup(e);if(t>1)for(let e of this.keyTrie.predictiveSearch(t))if(this.hasMappingBitList.get(e)){const t=this.mappingBitVector.select(e,!1),n=this.mappingBitVector.nextClearBit(t+1)-t-1,s=this.mappingBitVector.rank(t,!1);for(let e=0;e<n;e++)yield this.valueTrie.reverseLookup(this.mapping[t-s+e])}}}class f{static build(e){for(let t=0;t<e.length;t++){if(null==e[t])throw new Error;if(t>0&&e[t-1]>e[t])throw new Error}const n=new Uint32Array(e.length);for(let e=0;e<n.length;e++)n[e]=1;let s=0,r=1,i="  ";const w=new t;for(w.add(!0);;){let t=0,o=0,h=0;for(let a=0;a<e.length;a++){if(e[a].length<s)continue;if(e[a].length==s){w.add(!1),o=n[a],t=0;continue}const l=e[a].charCodeAt(s),c=n[a];o!=c?(w.add(!1),w.add(!0),i+=String.fromCharCode(l),r+=1):t!=l&&(w.add(!0),i+=String.fromCharCode(l),r+=1),n[a]=r,t=l,o=c,h++}if(0==h)break;s++}const h=new Uint32Array(w.words.buffer,0,2*(w.size+63>>6)),a=new o(h,w.size),l=new Uint16Array(i.length);for(let e=0;e<i.length;e++)l[e]=i.charCodeAt(e);return[new u(a,l),n]}}class g{static decodeBytes(e){let t="";for(let n=0;n<e.length;n++)t+=g.decodeByte(e[n]);return t}static decodeByte(e){if(32<=e&&e<=126)return String.fromCharCode(e);if(161<=e&&e<=246)return String.fromCharCode(e+12352-160);throw new RangeError}static encodeString(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=g.encodeChar(e.charCodeAt(n));return t}static encodeChar(e){if(0==e)return 0;if(32<=e&&e<=126)return e;if(12353<=e&&e<=12438)return e-12352+160;if(12540===e)return e-12352+160;throw new RangeError("unknown character to encode: "+e)}}class y{constructor(e,t,n,s){this.base=e,this.check=t,this.charConverter=n,this.charSize=s}traverse(e,t){const n=this.base[e]+t;return this.check[n]==e?n:-1}lookup(e){if(0==e.length)return 0;let t=0;for(let n=0;n<e.length;n++){const s=this.charConverter(e.charCodeAt(n));if(s<1)throw new Error;if(t=this.traverse(t,s),-1==t)return-1}return t}*commonPrefixSearch(e){let t=0,n=0;for(;-1!=t;){const s=t;if(n==e.length)t=-1;else{const s=this.charConverter(e.charCodeAt(n));t=this.traverse(t,s),n++}yield s}}*predictiveSearch(e){const t=this.lookup(e);-1!=t&&(yield*this.visitRecursive(t))}*visitRecursive(e){yield e;for(let t=0;t<this.charSize;t++){const n=this.base[e]+t+1;if(n>=this.check.length)return;this.check[n]==e&&(yield*this.visitRecursive(n))}}}class p{constructor(){this.value=0,this.child=null,this.left=null,this.right=null,this.level=0}successor(){let e=this.right;for(;null!=e.left;)e=e.left;return e}predecessor(){let e=this.left;for(;null!=e.left;)e=e.left;for(;null!=e.right;)e=e.right;return e}}function m(e,t,n){if(n<t.length){let[s,r,i]=v(t.charCodeAt(n),e);return(i||null!=r.child)&&(r.child=m(r.child,t,n+1)),s}return null}function*b(e){null!=e&&(yield*b(e.left),yield e,yield*b(e.right))}function v(e,t){let n,s=!1;if(null==t)return n=new p,n.value=e,n.level=1,n.left=null,n.right=null,[n,n,!0];if(e<t.value)[t.left,n,s]=v(e,t.left);else{if(!(e>t.value))return[t,t,!1];[t.right,n,s]=v(e,t.right)}return[t=function(e){if(null==e)return null;if(null==e.right||null==e.right.right)return e;if(e.level==e.right.right.level){let t=e.right;return e.right=t.left,t.left=e,t.level=t.level+1,t}return e}(t=function(e){if(null==e)return null;if(null==e.left)return e;if(e.left.level==e.level){let t=e.left;return e.left=t.right,t.right=e,t}return e}(t)),n,s]}class x{constructor(e,t,n,s,r,i,o){this.or=e,this.beginGroup=t,this.endGroup=n,this.beginClass=s,this.endClass=r,this.newline=i,this.root=null,this.escapedCharacters=x.initializeEscapeCharacters(o)}static getDEFAULT(){return new x("|","(",")","[","]","","\\.[]{}()*+-?^$|")}static initializeEscapeCharacters(e){const n=new t(128);for(let t=0;t<e.length;t++){const s=e.charCodeAt(t);if(!(s<128))throw new Error("アスキー文字のみエスケープできます");n.set(s,!0)}return n}add(e){0!=e.length&&(this.root=m(this.root,e,0))}generateStub(e){let t="",n=0,s=0;for(let t of b(e))n++,null!=t.child&&s++;const r=n-s;if(n>1&&s>0&&(t+=this.beginGroup),r>0){r>1&&(t+=this.beginClass);for(let n of b(e))null==n.child&&(n.value<128&&this.escapedCharacters.get(n.value)&&(t+="\\"),t+=String.fromCharCode(n.value));r>1&&(t+=this.endClass)}if(s>0){r>0&&(t+=this.or);for(let n of b(e))null!=n.child&&(n.value<128&&this.escapedCharacters.get(n.value)&&(t+="\\"),t+=String.fromCharCode(n.value),null!=this.newline&&(t+=this.newline),t+=this.generateStub(n.child),s>1&&(t+=this.or));s>1&&(t=t.substring(0,t.length-this.or.length))}return n>1&&s>0&&(t+=this.endGroup),t}generate(){return null==this.root?"":this.generateStub(this.root)}}class C{constructor(e,t){this.prefix=e,this.suffixes=t}}class k{constructor(e,t,n){this.trie=e,this.hiraganaList=t,this.remainList=n}static build(){const e=new Int16Array([0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,26,31,95,-1,100,121,147,-1,175,182,203,229,251,-1,266,284,291,302,334,-1,379,401,420,432,464,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,50,49,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,28,-1,-1,-1,-1,52,-1,-1,-1,-1,-1,-1,24,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,21,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,57,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,67,-1,-1,-1,-1,-1,-1,-1,34,-1,-1,-1,-1,-1,-1,76,-1,93,-1,-1,-1,-1,59,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,118,-1,136,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,149,-1,158,-1,23,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,160,-1,-1,-1,-1,177,-1,201,-1,-1,-1,-1,-1,-1,61,-1,-1,-1,-1,-1,-1,-1,-1,44,-1,-1,47,-1,212,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,230,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,248,86,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,269,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,317,-1,-1,-1,-1,-1,293,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,319,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,343,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,360,-1,-1,-1,361,-1,362,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,384,-1,-1,-1,-1,402,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,46,-1,74,-1,-1,-1,-1,85,-1,-1,-1,-1,-1,-1,-1,-1,68,-1,-1,83,-1,427,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,445,-1]),t=new Int16Array([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,0,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,98,98,147,0,98,99,147,99,98,99,147,100,99,99,98,171,147,270,159,99,98,322,147,135,98,99,152,135,207,99,152,135,134,221,152,310,319,135,319,310,152,199,520,135,134,199,152,221,134,199,214,183,522,221,214,199,522,539,214,527,536,199,536,527,214,-1,-1,216,373,100,214,216,100,100,102,216,100,100,102,102,373,216,102,100,373,-1,-1,216,102,100,-1,100,240,100,102,103,240,-1,102,103,240,103,-1,103,-1,-1,240,-1,-1,103,242,-1,240,-1,242,103,-1,103,242,103,-1,104,-1,266,242,104,-1,266,104,104,242,266,268,-1,296,104,268,266,296,-1,268,104,296,104,-1,104,268,266,296,106,-1,301,268,106,296,301,107,106,106,301,107,-1,-1,106,107,301,107,110,-1,106,107,301,-1,106,-1,303,107,108,107,303,107,108,-1,303,-1,108,324,108,108,303,324,108,-1,-1,324,303,108,108,-1,108,324,108,-1,109,350,-1,324,109,350,-1,-1,109,350,-1,-1,109,-1,109,350,-1,-1,-1,372,109,350,110,372,109,-1,110,372,-1,-1,110,-1,-1,372,-1,110,110,112,-1,372,387,112,110,-1,387,112,110,116,387,-1,-1,112,112,-1,387,113,-1,112,-1,113,387,112,114,113,412,-1,114,-1,412,113,114,113,412,115,-1,113,114,115,412,114,115,115,114,-1,412,-1,114,115,406,-1,423,115,406,115,423,-1,406,115,423,-1,-1,-1,406,-1,423,116,-1,-1,406,116,423,-1,116,116,438,-1,-1,-1,438,116,-1,-1,438,116,116,116,-1,116,438,116,-1,449,453,455,438,449,453,455,-1,449,453,455,-1,-1,-1,449,453,455,-1,-1,118,449,453,455,118,500,-1,-1,118,500,-1,-1,-1,500,118,-1,-1,-1,-1,500,118,118,119,505,118,500,119,505,-1,119,119,505,122,122,122,122,119,505,-1,-1,-1,120,119,505,119,120,119,-1,541,120,-1,120,541,121,120,120,541,121,-1,-1,120,120,541,120,120,120,585,121,541,-1,585,-1,-1,121,585,-1,-1,121,-1,122,585,122,-1,-1,-1,122,585,-1,-1,122,-1,-1,122,122,122,122,122,-1,-1,122,-1,-1,-1,-1,-1,122,-1,-1,-1,122,122]),n=new Int8Array([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,0,-1,-1,-1,0,-1,-1,-1,0,-1,-1,-1,0,-1,-1,-1,-1,0,0,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,0,1,0,0,0,0,0,1,0,0,0,-1,-1,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,-1,0,0,0,0,0,0,-1,0,0,0,0,0,2,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,-1,-1,0,0,0,0,0,1,0,0,0,-1,0,0,1,0,0,0,0,-1,-1,-1,0,0,0,-1,-1,0,-1,0,0,0,-1,-1,0,0,1,-1,0,-1,-1,0,-1,-1,0,0,-1,0,-1,0,0,-1,-1,0,-1,-1,0,-1,0,0,0,-1,0,1,0,0,0,0,-1,0,0,0,0,0,-1,0,0,0,-1,-1,-1,0,-1,0,0,-1,0,0,0,0,0,0,0,1,0,0,-1,-1,0,0,0,1,0,-1,0,0,0,-1,-1,-1,0,0,0,-1,0,-1,0,-1,0,-1,0,0,-1,1,0,0,0,-1,-1,0,0,-1,0,-1,-1,0,-1,-1,0,0,-1,0,0,0,-1,-1,0,0,-1,-1,1,-1,0,0,-1,-1,-1,0,0,0,0,0,-1,-1,0,0,-1,-1,0,-1,-1,0,-1,0,0,0,-1,0,0,0,0,-1,0,0,-1,-1,0,-1,-1,0,1,-1,0,0,-1,0,-1,0,0,-1,0,0,0,-1,0,-1,0,0,0,1,0,0,-1,0,0,0,0,1,-1,0,0,-1,0,-1,-1,0,0,-1,0,1,0,0,0,-1,0,-1,0,-1,-1,-1,0,-1,0,0,-1,-1,0,0,0,-1,-1,0,0,-1,-1,-1,0,0,-1,-1,0,-1,1,0,-1,-1,0,-1,-1,0,0,0,0,0,0,0,-1,0,0,0,-1,-1,-1,0,0,0,-1,-1,0,0,0,0,0,0,-1,-1,0,0,-1,-1,-1,0,0,-1,-1,-1,-1,0,0,1,0,0,-1,0,0,0,-1,-1,0,0,0,0,0,0,0,0,-1,-1,-1,0,0,0,1,0,-1,-1,0,0,-1,-1,0,0,0,0,0,0,-1,-1,-1,0,0,-1,1,-1,0,0,0,-1,0,-1,-1,0,0,-1,-1,1,-1,0,0,0,-1,-1,-1,0,0,-1,-1,0,-1,-1,0,0,0,0,0,-1,-1,0,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,1]),s=new y(e,t,(function(e){return e}),128);return new k(s,["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","、","ー","。","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","「","","」","","","","あ","","","","え","","","","い","","","","","ん","お","","","","","","う","","","","","","ば","っ","びゃ","〜","べ","か","びぇ","っ","び","せ","びぃ","","","し","ぼ","でゅ","びょ","ふゅ","っ","こ","ぶ","ゎ","びゅ","ちゃ","","く","ちゃ","ちぇ","てゅ","","ちぇ","ち","でぃ","ふゃ","ちぃ","ヵ","","ちょ","っ","ヶ","ちょ","でゃ","w","ちゅ","どぅ","でぇ","ちゅ","ふょ","","でぃ","どぁ","っ","ゑ","ふゅ","どぇ","でょ","ゐ","ゎ","どぃ","ヵ","","でゅ","っ","ヶ","どぉ","","","ぢゃ","てぃ","だ","どぅ","ぢぇ","っ","で","ふぁ","ぢぃ","","ぢ","ふぇ","っ","とぅ","ぢょ","ふぃ","ど","","","","ぢゅ","ふぉ","づ","","","ぐぁ","","ふ","が","ぐぇ","","","げ","ぐぃ","っ","","ぎ","","","ぐぉ","","","ご","ぎゃ","","ぐぅ","","ぎぇ","ぐ","","","ぎぃ","","","は","","ふぁ","ぎょ","へ","","ふぇ","っ","ひ","ぎゅ","ふぃ","ひゃ","","じゃ","ほ","ひぇ","ふぉ","じぇ","","ひぃ","ふ","じぃ","","","","ひょ","","じょ","じゃ","","くぁ","ひゅ","じぇ","じゅ","くぇ","か","じ","っ","くぃ","け","","","じょ","き","くぉ","っ","ん","","じゅ","こ","くぅ","","","","きゃ","く","ぁ","","きぇ","","ぇ","","きぃ","","ぃ","ゃ","","っ","きょ","ぇ","ぉ","","","ぃ","きゅ","","ぅ","","","ょ","","","ま","みゃ","","ゅ","め","みぇ","","","み","みぃ","","","っ","","も","みょ","","","","にゃ","む","みゅ","な","にぇ","","","ね","にぃ","","","に","","","にょ","","ん","の","ぱ","","にゅ","ぴゃ","ぺ","ぬ","","ぴぇ","ぴ","","","ぴぃ","","","ぽ","っ","","ぴょ","くぁ","","ぷ","","くぇ","ぴゅ","","ら","くぃ","りゃ","","れ","","りぇ","くぉ","り","っ","りぃ","さ","","く","ろ","せ","りょ","っ","","し","る","","りゅ","","","そ","しゃ","","しゃ","っ","しぇ","す","しぇ","","し","","しぃ","","","","しょ","","しょ","た","","","しゅ","て","しゅ","","","ち","てゃ","","","","てぇ","と","","","てぃ","","っ","つ","","","てょ","","","つぁ","とぁ","ちゃ","てゅ","つぇ","とぇ","ちぇ","","つぃ","とぃ","ちぃ","","","","つぉ","とぉ","ちょ","","","ゔぁ","つ","とぅ","ちゅ","ゔぇ","ゔゃ","","","ゔぃ","ゔぇ","","","","ゔぃ","ゔぉ","","","","","ゔょ","ゔ","っ","わ","うぁ","","ゔゅ","うぇ","うぇ","","","うぃ","うぃ","‥","〜","…","・","を","うぉ","","","","ぁ","う","う","っ","ぇ","","","ゃ","ぃ","","","ぇ","や","ん","ぉ","ぃ","いぇ","","","","ぅ","ょ","","っ","","じゃ","よ","ゅ","","じぇ","","","ゆ","じぃ","","","っ","","『","じょ","』","","","","ざ","じゅ","","","ぜ","","","←","じ","↓","↑","→","","","ぞ","","","","","","ず","","","","","っ"],n)}romajiToHiragana(e){let t="",n=0;for(;n<e.length;){let s=-1,r=-1;for(let t of this.trie.commonPrefixSearch(e.substr(n)))-1!=this.remainList[t]&&(s=t),r++;-1==s?(t+=e.charAt(n),n++):(t+=this.hiraganaList[s],n=n+r-this.remainList[s])}return t}romajiToHiraganaPredictively(e){let t="",n=0;for(;n<e.length;){let s=-1,r=0;for(let t of this.trie.commonPrefixSearch(e.substr(n)))-1!=this.remainList[t]&&(s=t),r++;if(r+n-1==e.length){let s=new Set;for(let t of this.trie.predictiveSearch(e.substr(n)))-1!=this.remainList[t]&&s.add(this.hiraganaList[t]);let r=new Array;for(let e of s)r.push(e);return 1==r.length?(t+=r[0],new C(t,[""])):new C(t,r)}s>=0?(t+=this.hiraganaList[s],n=n+r-1-this.remainList[s]):(t+=e[n],n++)}return new C(t,[""])}}class z{constructor(e,t,n){this.roman=e,this.hiragana=t,this.remain=n,this.index=z.calculateIndex(e)}static _calculateIndex(e,t,n){let s=0;for(let r=0;r<4;r++){const i=r+t;s|=i<e.length&&i<n?e.charCodeAt(i):0,r<3&&(s<<=8)}return s}static calculateIndex(e){return z._calculateIndex(e,0,4)}}const A=[new z("-","ー",0),new z("~","〜",0),new z(".","。",0),new z(",","、",0),new z("z/","・",0),new z("z.","…",0),new z("z,","‥",0),new z("zh","←",0),new z("zj","↓",0),new z("zk","↑",0),new z("zl","→",0),new z("z-","〜",0),new z("z[","『",0),new z("z]","』",0),new z("[","「",0),new z("]","」",0),new z("va","ゔぁ",0),new z("vi","ゔぃ",0),new z("vu","ゔ",0),new z("ve","ゔぇ",0),new z("vo","ゔぉ",0),new z("vya","ゔゃ",0),new z("vyi","ゔぃ",0),new z("vyu","ゔゅ",0),new z("vye","ゔぇ",0),new z("vyo","ゔょ",0),new z("qq","っ",1),new z("vv","っ",1),new z("ll","っ",1),new z("xx","っ",1),new z("kk","っ",1),new z("gg","っ",1),new z("ss","っ",1),new z("zz","っ",1),new z("jj","っ",1),new z("tt","っ",1),new z("dd","っ",1),new z("hh","っ",1),new z("ff","っ",1),new z("bb","っ",1),new z("pp","っ",1),new z("mm","っ",1),new z("yy","っ",1),new z("rr","っ",1),new z("ww","っ",1),new z("www","w",2),new z("cc","っ",1),new z("kya","きゃ",0),new z("kyi","きぃ",0),new z("kyu","きゅ",0),new z("kye","きぇ",0),new z("kyo","きょ",0),new z("gya","ぎゃ",0),new z("gyi","ぎぃ",0),new z("gyu","ぎゅ",0),new z("gye","ぎぇ",0),new z("gyo","ぎょ",0),new z("sya","しゃ",0),new z("syi","しぃ",0),new z("syu","しゅ",0),new z("sye","しぇ",0),new z("syo","しょ",0),new z("sha","しゃ",0),new z("shi","し",0),new z("shu","しゅ",0),new z("she","しぇ",0),new z("sho","しょ",0),new z("zya","じゃ",0),new z("zyi","じぃ",0),new z("zyu","じゅ",0),new z("zye","じぇ",0),new z("zyo","じょ",0),new z("tya","ちゃ",0),new z("tyi","ちぃ",0),new z("tyu","ちゅ",0),new z("tye","ちぇ",0),new z("tyo","ちょ",0),new z("cha","ちゃ",0),new z("chi","ち",0),new z("chu","ちゅ",0),new z("che","ちぇ",0),new z("cho","ちょ",0),new z("cya","ちゃ",0),new z("cyi","ちぃ",0),new z("cyu","ちゅ",0),new z("cye","ちぇ",0),new z("cyo","ちょ",0),new z("dya","ぢゃ",0),new z("dyi","ぢぃ",0),new z("dyu","ぢゅ",0),new z("dye","ぢぇ",0),new z("dyo","ぢょ",0),new z("tsa","つぁ",0),new z("tsi","つぃ",0),new z("tse","つぇ",0),new z("tso","つぉ",0),new z("tha","てゃ",0),new z("thi","てぃ",0),new z("t'i","てぃ",0),new z("thu","てゅ",0),new z("the","てぇ",0),new z("tho","てょ",0),new z("t'yu","てゅ",0),new z("dha","でゃ",0),new z("dhi","でぃ",0),new z("d'i","でぃ",0),new z("dhu","でゅ",0),new z("dhe","でぇ",0),new z("dho","でょ",0),new z("d'yu","でゅ",0),new z("twa","とぁ",0),new z("twi","とぃ",0),new z("twu","とぅ",0),new z("twe","とぇ",0),new z("two","とぉ",0),new z("t'u","とぅ",0),new z("dwa","どぁ",0),new z("dwi","どぃ",0),new z("dwu","どぅ",0),new z("dwe","どぇ",0),new z("dwo","どぉ",0),new z("d'u","どぅ",0),new z("nya","にゃ",0),new z("nyi","にぃ",0),new z("nyu","にゅ",0),new z("nye","にぇ",0),new z("nyo","にょ",0),new z("hya","ひゃ",0),new z("hyi","ひぃ",0),new z("hyu","ひゅ",0),new z("hye","ひぇ",0),new z("hyo","ひょ",0),new z("bya","びゃ",0),new z("byi","びぃ",0),new z("byu","びゅ",0),new z("bye","びぇ",0),new z("byo","びょ",0),new z("pya","ぴゃ",0),new z("pyi","ぴぃ",0),new z("pyu","ぴゅ",0),new z("pye","ぴぇ",0),new z("pyo","ぴょ",0),new z("fa","ふぁ",0),new z("fi","ふぃ",0),new z("fu","ふ",0),new z("fe","ふぇ",0),new z("fo","ふぉ",0),new z("fya","ふゃ",0),new z("fyu","ふゅ",0),new z("fyo","ふょ",0),new z("hwa","ふぁ",0),new z("hwi","ふぃ",0),new z("hwe","ふぇ",0),new z("hwo","ふぉ",0),new z("hwyu","ふゅ",0),new z("mya","みゃ",0),new z("myi","みぃ",0),new z("myu","みゅ",0),new z("mye","みぇ",0),new z("myo","みょ",0),new z("rya","りゃ",0),new z("ryi","りぃ",0),new z("ryu","りゅ",0),new z("rye","りぇ",0),new z("ryo","りょ",0),new z("n'","ん",0),new z("nn","ん",0),new z("n","ん",0),new z("xn","ん",0),new z("a","あ",0),new z("i","い",0),new z("u","う",0),new z("wu","う",0),new z("e","え",0),new z("o","お",0),new z("xa","ぁ",0),new z("xi","ぃ",0),new z("xu","ぅ",0),new z("xe","ぇ",0),new z("xo","ぉ",0),new z("la","ぁ",0),new z("li","ぃ",0),new z("lu","ぅ",0),new z("le","ぇ",0),new z("lo","ぉ",0),new z("lyi","ぃ",0),new z("xyi","ぃ",0),new z("lye","ぇ",0),new z("xye","ぇ",0),new z("ye","いぇ",0),new z("ka","か",0),new z("ki","き",0),new z("ku","く",0),new z("ke","け",0),new z("ko","こ",0),new z("xka","ヵ",0),new z("xke","ヶ",0),new z("lka","ヵ",0),new z("lke","ヶ",0),new z("ga","が",0),new z("gi","ぎ",0),new z("gu","ぐ",0),new z("ge","げ",0),new z("go","ご",0),new z("sa","さ",0),new z("si","し",0),new z("su","す",0),new z("se","せ",0),new z("so","そ",0),new z("ca","か",0),new z("ci","し",0),new z("cu","く",0),new z("ce","せ",0),new z("co","こ",0),new z("qa","くぁ",0),new z("qi","くぃ",0),new z("qu","く",0),new z("qe","くぇ",0),new z("qo","くぉ",0),new z("kwa","くぁ",0),new z("kwi","くぃ",0),new z("kwu","くぅ",0),new z("kwe","くぇ",0),new z("kwo","くぉ",0),new z("gwa","ぐぁ",0),new z("gwi","ぐぃ",0),new z("gwu","ぐぅ",0),new z("gwe","ぐぇ",0),new z("gwo","ぐぉ",0),new z("za","ざ",0),new z("zi","じ",0),new z("zu","ず",0),new z("ze","ぜ",0),new z("zo","ぞ",0),new z("ja","じゃ",0),new z("ji","じ",0),new z("ju","じゅ",0),new z("je","じぇ",0),new z("jo","じょ",0),new z("jya","じゃ",0),new z("jyi","じぃ",0),new z("jyu","じゅ",0),new z("jye","じぇ",0),new z("jyo","じょ",0),new z("ta","た",0),new z("ti","ち",0),new z("tu","つ",0),new z("tsu","つ",0),new z("te","て",0),new z("to","と",0),new z("da","だ",0),new z("di","ぢ",0),new z("du","づ",0),new z("de","で",0),new z("do","ど",0),new z("xtu","っ",0),new z("xtsu","っ",0),new z("ltu","っ",0),new z("ltsu","っ",0),new z("na","な",0),new z("ni","に",0),new z("nu","ぬ",0),new z("ne","ね",0),new z("no","の",0),new z("ha","は",0),new z("hi","ひ",0),new z("hu","ふ",0),new z("fu","ふ",0),new z("he","へ",0),new z("ho","ほ",0),new z("ba","ば",0),new z("bi","び",0),new z("bu","ぶ",0),new z("be","べ",0),new z("bo","ぼ",0),new z("pa","ぱ",0),new z("pi","ぴ",0),new z("pu","ぷ",0),new z("pe","ぺ",0),new z("po","ぽ",0),new z("ma","ま",0),new z("mi","み",0),new z("mu","む",0),new z("me","め",0),new z("mo","も",0),new z("xya","ゃ",0),new z("lya","ゃ",0),new z("ya","や",0),new z("wyi","ゐ",0),new z("xyu","ゅ",0),new z("lyu","ゅ",0),new z("yu","ゆ",0),new z("wye","ゑ",0),new z("xyo","ょ",0),new z("lyo","ょ",0),new z("yo","よ",0),new z("ra","ら",0),new z("ri","り",0),new z("ru","る",0),new z("re","れ",0),new z("ro","ろ",0),new z("xwa","ゎ",0),new z("lwa","ゎ",0),new z("wa","わ",0),new z("wi","うぃ",0),new z("we","うぇ",0),new z("wo","を",0),new z("wha","うぁ",0),new z("whi","うぃ",0),new z("whu","う",0),new z("whe","うぇ",0),new z("who","うぉ",0)].sort(((e,t)=>e.index-t.index));class S{constructor(e){this.roman_indexes=[],this.roman_entries=[],this.roman_entries=e.sort(((e,t)=>e.index-t.index)),this.roman_indexes=this.roman_entries.map((e=>e.index))}static build(){return new S(A)}romajiToHiragana(e){if(0==e.length)return"";let t="",s=0,r=1;for(;s<e.length;){let i=-1,o=0,w=this.roman_indexes.length;for(;w-o>1&&r<=e.length;){const t=z._calculateIndex(e,s,r);o=n(this.roman_indexes,o,w,t),o>=0?i=o:o=-o-1;const h=t+(1<<32-8*(r-s));w=n(this.roman_indexes,o,w,h),w<0&&(w=-w-1),r++}if(i>=0){const e=this.roman_entries[i];t+=e.hiragana,s=s+e.roman.length-e.remain,r=s+1}else t+=e.charAt(s),s++,r=s+1}return t}findRomanEntryPredicatively(e,t){let s=0,r=this.roman_indexes.length;for(let i=0;i<4&&!(e.length<=t+i);i++){const o=z._calculateIndex(e,t,t+i+1);s=n(this.roman_indexes,s,r,o),s>=0||(s=-s-1);const w=o+(1<<24-8*i);if(r=n(this.roman_indexes,s,r,w),r<0&&(r=-r-1),r-s==1)return new Set([this.roman_entries[s]])}const i=new Set;for(let e=s;e<r;e++)i.add(this.roman_entries[e]);return i}romajiToHiraganaPredictively(e){if(0==e.length)return new C("",[""]);let t="",s=0,r=1;for(;s<e.length;){let i=-1,o=0,w=this.roman_indexes.length;for(;w-o>1&&r<=e.length;){const t=z._calculateIndex(e,s,r);o=n(this.roman_indexes,o,w,t),o>=0?i=o:o=-o-1;const h=t+(1<<32-8*(r-s));w=n(this.roman_indexes,o,w,h),w<0&&(w=-w-1),r++}if(r>e.length&&w-o>1){const n=new Set;for(let t=o;t<w;t++){const s=this.roman_entries[t];if(s.remain>0){let t=this.findRomanEntryPredicatively(e,r-1-s.remain);for(let e of t)0==e.remain&&n.add(s.hiragana+e.hiragana)}else n.add(s.hiragana)}let s=new Array;for(let e of n)s.push(e);return 1==s.length?new C(t+s[0],[""]):new C(t,s)}if(i>=0){const e=this.roman_entries[i];t+=e.hiragana,s=s+e.roman.length-e.remain,r=s+1}else t+=e.charAt(s),s++,r=s+1}return new C(t,[""])}}return e.BitList=t,e.BitVector=o,e.CompactDictionary=d,e.CompactDictionaryBuilder=class{static build(e){const n=new Array;for(const t of e.keys())try{g.encodeString(t)}catch(e){n.push(t),console.log("skipped the world: "+t)}for(const t of n)e.delete(t);const s=Array.from(e.keys()).sort(),r=f.build(s)[0],i=new Set;for(const t of e.values())for(const e of t)i.add(e);const o=Array.from(i.values()).sort(),w=f.build(o)[0];let h=0;for(const t of e.values())h+=t.length;const a=new Uint32Array(h);let l=0;const c=new t;for(let t=1;t<=r.size()+1;t++){let n=r.reverseLookup(t);c.add(!1);let s=e.get(n);if(null!=s)for(let e=0;e<s.length;e++)c.add(!0),a[l]=w.lookup(s[e]),l++}const u=8+r.edges.length+8*(r.bitVector.size()+63>>>6)+(8+2*w.edges.length+8*(w.bitVector.size()+63>>>6))+(8+8*(c.size+63>>>6)+4*a.length),d=new ArrayBuffer(u),y=new DataView(d);let p=0;y.setInt32(p,r.edges.length),p+=4;for(let e=0;e<r.edges.length;e++){const t=g.encodeChar(r.edges[e]);y.setUint8(p,t),p+=1}y.setInt32(p,r.bitVector.size()),p+=4;const m=r.bitVector.words;for(let e=0;e<m.length>>>1;e++)y.setUint32(p,m[2*e+1]),p+=4,y.setUint32(p,m[2*e]),p+=4;y.setInt32(p,w.edges.length),p+=4;for(let e=0;e<w.edges.length;e++)y.setUint16(p,w.edges[e]),p+=2;y.setInt32(p,w.bitVector.size()),p+=4;const b=w.bitVector.words;for(let e=0;e<b.length>>>1;e++)y.setUint32(p,b[2*e+1]),p+=4,y.setUint32(p,b[2*e]),p+=4;y.setInt32(p,c.size),p+=4;const v=c.size+63>>6;for(let e=0;e<v;e++)y.setUint32(p,c.words[2*e+1]),p+=4,y.setUint32(p,c.words[2*e]),p+=4;y.setInt32(p,a.length),p+=4;for(let e=0;e<a.length;e++)y.setUint32(p,a[e]),p+=4;if(p!==u)throw new Error(`file size is not valid: expected=${u} actual=${p}`);return d}},e.CompactHiraganaString=g,e.DoubleArray=y,e.LOUDSTrie=u,e.LOUDSTrieBuilder=f,e.Migemo=class{constructor(){this.dict=null,this.rxop=null,this.processor=k.build()}queryAWord(e){const t=null===this.rxop?x.getDEFAULT():new x(this.rxop[0],this.rxop[1],this.rxop[2],this.rxop[3],this.rxop[4],this.rxop[5],this.rxop[6]);t.add(e);const n=e.toLowerCase();if(null!=this.dict)for(const e of this.dict.predictiveSearch(n))t.add(e);const s=a(e);t.add(s);const r=l(e);t.add(r);const i=this.processor.romajiToHiraganaPredictively(n);for(const e of i.suffixes){const n=i.prefix+e;if(t.add(n),null!=this.dict)for(const e of this.dict.predictiveSearch(n))t.add(e);const s=c(n);t.add(s),t.add(l(s))}return t.generate()}query(e){if(""==e)return"";const t=this.parseQuery(e);let n="";for(const e of t)n+=this.queryAWord(e);return n}setDict(e){this.dict=e}setRxop(e){this.rxop=e}setRomajiProcessor(e){this.processor=e}*parseQuery(e){const t=/[^A-Z\s]+|[A-Z]{2,}|([A-Z][^A-Z\s]+)|([A-Z]\s*$)/g;let n;for(;null!==(n=t.exec(e));)yield n[0]}},e.RomajiPredictiveResult=C,e.RomajiProcessor1=S,e.RomajiProcessor2=k,e.RomanEntry=z,e.TernaryRegexGenerator=x,e.binarySearch=n,e.binarySearchString=function(e,t,n,s){let r=t,i=n-1;for(;r<=i;){const t=r+i>>>1,n=e[t];if(n<s)r=t+1;else{if(!(n>s))return t;i=t-1}}return-(r+1)},e.binarySearchUint16=s,e.bitCount=r,e.han2zen_conv=a,e.hira2kata_conv=c,e.numberOfTrailingZeros=i,e.zen2han_conv=l,e}({});
